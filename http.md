## HTTP协议

---

#### HTTP协议的主要特点：

简单快速、灵活、无连接、无状态

#### HTTP报文的组成部分：

![](/assets/http.jpg)

#### HTTP方法：

* Get：用于请求访问已经被URI（统一资源标识符）识别的资源，可以通过URL传参给服务器
* Post： 用于传输信息给服务器，主要功能与GET方法类似，但一般推荐使用POST方式。
* Put： 传输文件，报文主体中包含文件内容，保存到对应URI位置。
* Delete： 删除文件，与PUT方法相反，删除对应URI位置的文件。
* Head：获得报文首部，与GET方法类似，只是不返回报文主体，一般用于验证URI是否有效。

#### POST和GET的区别：

* GET在浏览器回退时是无害的，而POST会再次提交请求
* GET产生的URL地址可以被收藏，而POST不可以
* GET请求会被浏览器主动缓存，而POST不会，除非手动设置
* GET请求只能进行url编码，而POST支持多种编码方式
* GET请求参数会被完整留在浏览器历史纪录里，而POST中的参数不会被保留
* GET请求在URL中传送的参数是有长度限制的，而POST没有限制
* 对参数的数据类型，GET只接受ASCII字符，而POST没有限制
* GET比POST更不安全，因为参数直接暴露在URL上，所以不用能来传送敏感信息
* GET参数通过URL传送，POST放在Request body中

#### HTTP状态码：

* 1xx：指示信息，表示请求已接受，继续处理
* 2xx：成功，表示请求已被成功接收

  > 200 OK：客户端请求成功  
  > 206 Partial Content：客户发送了一个带有Range头的GET请求，服务器完成了它。

* 3xx：重定向，要完成请求必须进行更进一步的操作

  > 301 Moved Permanently：所请求的页面已经转移至新的url。  
  > 302 Found：所请求的页面已经临时转移至新的url。  
  > 303 Not Modified：客户端有缓冲的文档并发出了一个条件性的请求，服务器告诉客户，原来缓冲的文档还可以继续使用。

* 4xx：客户端错误，请求有语法错误或请求无法实现

  > 400 Bad Request：客户端语法错误  
  > 401 Unauthorized：请求未经授权  
  > 403 Forbidden：服务器拒绝服务，对被请求页面的访问被禁止  
  > 404 Not Found：请求资源不存在

* 5xx：服务器错误，服务器未能实现合法的请求

  > 500不可预期的错误  
  > 503此时不能提供服务 稍后恢复正常

#### 什么是持久连接：

HTTP协议采用”请求-应答“模式，当使用普通模式，既非 Keep-Alive 模式时，每个请求/应答客户和服务都要新建一个链接，完成之后立即断开连接（HTTP协议为无连接的协议）。

当使用 Keep-Alive 模式（持久连接/链接重用）时，Keep-Alive 功能使客户端到服务器端的链接持续有效，当出现对服务器的后继请求时，Keep-Alive 功能避免了建立或者重新建立链接。

#### 什么是管线化：

在使用持久连接的情况下，

原本：请求1 -&gt; 响应1 -&gt; 请求2 -&gt; 响应2 -&gt; 请求3 -&gt; 响应3

变为：请求1 -&gt; 请求2 -&gt; 请求3 -&gt; 响应1 -&gt; 响应2 -&gt; 响应3

* 管线化机制通过持久连接完成，仅HTTP/1.1支持此技术
* 只有GET和HEAD请求可以进行管线化，而POST则有所限制
* 初次创建链接时不应启动管线机制，因为对方服务器不一定支持HTTP/1.1版本的协议
* 管线化不会影响响应到来的顺序
* HTTP/1.1要求服务器端支持管线化，但不要求服务器端也对响应进行管线化处理，只是要求对于管线化的请求不失败即可
* 开启管线化很可能并不会带来大幅度的性能提升，很多服务器端和代理程序对管线化的支持并不好，Chrome 和 Firefox 默认并未开启管线化支持

---

知识汇总：[https://segmentfault.com/a/1190000007033157](https://segmentfault.com/a/1190000007033157)

HTTP题目：[http://blog.51cto.com/10808695/1840537](http://blog.51cto.com/10808695/1840537)

